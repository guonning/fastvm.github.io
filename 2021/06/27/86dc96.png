--äº¤æµç¾¤833591003
local pxxe=gg[ "makeRequest" ]( "FT+ç½‘ç»œç”³è¯·" )
while tostring(pxxe):find( "FT+" )==nil do
while true do  print( "NO Network " ) end end
function _A(_B) 
return string.char(table.unpack(_B))
end
local optfff=function()
local igs = 0
for i in pairs(_G) do
igs = igs + 1
end
if igs ~= 36 then
goto BAD
end
ipai = gg[ "isPackageInstalled" ]
gpa = gg[ "PACKAGE" ]
ggf = gg[ "getFile" ]()
gg[ "setVisible" ](false)
goto P1
::BAD::
xpc=nil if  gg.isVisible() then xpc=0 end
while xpc~=0 do break end
wgcz =  "by.æ­ªæ­ª" 
gg[ "toast" ](wgcz)
gg[ "sleep" ](50)
gg[ "setVisible" ](true)  
::PP::
gg[ "toast" ](wgcz)
goto PP
::P1::
if #{pairs({ "EA-FFF" })} ~= 2 then
goto BAD
end
xi = {1, 1}
for i, v in pairs(gg) do 
xi[1] = xi[1] + 1
if i:find( "DIR" ) and not v:find(gpa) then
goto BAD
end
if type(v) ==  "function"  then
xi[2] = xi[2] + 1
end
end
if xi[1] ~= 123 or xi[2] ~= 64 then
goto BAD
end
xi = 1
for i, v in pairs(debug) do 
xi = xi + 1
if type(v) ~=  "function"  then
goto BAD
end
end
if xi ~= 17 then
goto BAD
end
h = 1 
repeat
h = h + 1
until type(debug.getinfo(h) or 0) ==  "number" 
if h > 2 or debug.getinfo(h - 1).short_src ~= ggf then
goto BAD
end
if debug.traceback():match( ".(/.-):" ) ~= ggf then 
goto BAD
end
f = io.open( "/data/data/"  .. gpa ..  "/shared_prefs/"  .. gpa ..  "_preferences.xml" )
if not f then
goto BAD
else
spc = f:read( "*a" )
f:close()
if #spc < 20 then 
goto BAD
end
op = 0 
for k in spc:gmatch( "script%-debug.>(.-)<" ) do
op = op + 1
end
if op ~= 0 then
goto BAD
end
op = 0 
for k in spc:gmatch( "history%-0.>(.-)<" ) do
op = op + 1
h0 = k
end
if op ~= 1 then
goto BAD
end
op = 0 
for k in spc:gmatch(gg[ "getTargetPackage" ]() ..  "%-script.>(.-)<" ) do
op = op + 1
ps = k
end
if op ~= 1 then
goto BAD
end
if h0 ~= ps or h0 ~= ggf or ps ~= ggf then 
goto BAD
end
end
isby = debug.traceback():match( "(/.*/.*):%d" ) 
if ggf == isby or isby or debug.traceback():match( ":(%d+)" ) then
goto BAD
end
if not ipai(gpa) or ipai( "com.fffsse.bad" ) then 
goto BAD
end
if sdpa == true and gpa ~=  "com.fffsse.gg"  then
goto BAD
end
while true do 
goto BAD end
end

local ic_URL = "http://www.iyuji.cn/iyuji/s/Mi8wa2V2NWh3Y0Q2MkhoWGhKVUtOUT09/1624771723226280"

function exit() os.exit() while true do _ENV = nil end end

function http_code(num)
  if type(num)=="number" then
    if num==200 then
      return "è¯·æ±‚æˆåŠŸ"
     elseif num==301 then
       return exit(gg.alert("èµ„æºï¼ˆç½‘é¡µç­‰ï¼‰è¢«æ°¸ä¹…è½¬ç§»åˆ°å…¶å®ƒURL"))
     elseif num==404 then
       return exit(gg.alert("è¯·æ±‚çš„èµ„æºï¼ˆç½‘é¡µç­‰ï¼‰ä¸å­˜åœ¨"))
     elseif num==500 then
       return exit(gg.alert("å†…éƒ¨æœåŠ¡å™¨é”™è¯¯"))
    end
  else
    return exit(print("å¼‚å¸¸"))
  end
end
-- è¯·æ±‚

function post(url, headers, data)
  if(url and type(url)=="string")then
    local Judge=gg.makeRequest(url, headers, data)
    if not Judge or Judge == "The user did not allow access to the Internet." then
      return exit(print("é”™è¯¯: è¿žæŽ¥ç½‘ç»œå¤±è´¥"))
     else
      return Judge
    end
  end
end
function Getdiary(url)
  if type(url)=="string" then
    get=post(url)
    if http_code(get.code)=="è¯·æ±‚æˆåŠŸ" then
      return get.content
    end
   else
    return exit(print("å¼‚å¸¸"))
  end
end

function Getlink(md5)
  local link="http://xqa578we22.xxy.nv2ray.ml/down.php/"..md5..".lua"
  if md5:len()==32 then
    get=post(link)
    if http_code(get.code)=="è¯·æ±‚æˆåŠŸ" then
      return get.content
    end
   else
    return exit(print("é…ç½®é”™è¯¯!"))
  end
end
function Password(mima)
  key = gg.prompt({"è¾“å…¥è„šæœ¬å¯†ç :"},nil,{'text'})
  if key ~= nil or key[1] ~= nil then
    if key[1]==mima==false then
      exit(print("é”™è¯¯: å¯†ç ä¸æ­£ç¡®"))
    end
   else
     exit(print("é”™è¯¯: å¯†ç æœªç¡®è®¤/å¯†ç æœªå®Œæ•´"))
  end
end

post('http://www.baidu.com') -- åˆ¤æ–­ç½‘ç»œçŠ¶æ€
content=(Getdiary(ic_URL,"è®¯é£žè¯­è®°")):gsub("&nbsp;","\n") -- èŽ·å–ç¬”è®°å†…å®¹
-- èŽ·å–æ ‡é¢˜â†“
title=content:match("<title>(.-)</title>")
-- èŽ·å–é˜…è¯»æ¬¡æ•°â†“
read=content:match(">é˜…è¯»\n (%d+)<")
local luaname=gg.getFile():gsub(gg.getFile():gsub('/[^/]+$','')..'/','')
status=content:match("ã€è„šæœ¬çŠ¶æ€ã€‘(.-)ã€è„šæœ¬çŠ¶æ€ã€‘")
if status=="å¼€å¯" then
  if content:match("ã€è®¾ç½®åç§°ã€‘(.-)ã€è®¾ç½®åç§°ã€‘")=="å¼€å¯" then
    getname=content:match("ã€è„šæœ¬åç§°ã€‘(.-)ã€è„šæœ¬åç§°ã€‘")
    if luaname~=getname then
      return exit(print("è„šæœ¬ä¿¡æ¯é”™è¯¯"))
    end
  end
  notice=content:match("ã€è„šæœ¬å…¬å‘Šã€‘(.-)ã€è„šæœ¬å…¬å‘Šã€‘")
  if not notice or notice=="" then
    gg.alert('æ— å…¬å‘Š','çŸ¥æ™“')
   else
    gg.alert('å…¬å‘Š:\n'..notice,'çŸ¥æ™“')
  end
  if content:match("ã€è®¾ç½®å¯†ç ã€‘(.-)ã€è®¾ç½®å¯†ç ã€‘")=="å¼€å¯" then
    Password(content:match("ã€è„šæœ¬å¯†ç ã€‘(.-)ã€è„šæœ¬å¯†ç ã€‘"))
  end
  gg.setVisible(true)
  lua_table={}
  item=content:match("ã€é¡¹ç›®ã€‘(.-)ã€é¡¹ç›®ã€‘")
  lua_table.name = {}
  lua_table.message = {}
  for s in string.gmatch(item,"ã€–(.-)ã€—") do
    lua_table.name[#lua_table.name+1]=s
  end
  for s in string.gmatch(item,"{(.-)}") do
    lua_table.message[#lua_table.message+1]=s
  end
  table.insert(lua_table.name,"é€€å‡ºè„šæœ¬")
  tip="ðŸ”µè¾…åŠ©åç§°: "..title.."\nðŸ”µå…¨ç½‘å¯åŠ¨: "..read.." æ¬¡\nðŸ”µåŒ¹é…èœå•: "..#lua_table.name.." æ¡\n"..content:match("ã€èœå•æç¤ºã€‘(.-)ã€èœå•æç¤ºã€‘")
  function REMain()
    menu = gg.choice(lua_table.name,nil,os.date(tip))
    if menu then
      if menu==#lua_table.name then
        exit(print("æ¬¢è¿Žä¸‹æ¬¡ä½¿ç”¨"))
      end
      contents = lua_table.message[menu]
      incident = contents:match("ç‚¹å‡»äº‹ä»¶:(.-),")
      if contents:match("çŠ¶æ€:%[(.-)%]")=="å¼€å¯" then
        pcall(load(Getlink(incident)))
       else
        gg.alert("è¯¥åŠŸèƒ½å·²å…³é—­")
      end
    end
  end
  while(true)do
    if gg.isVisible() then
      gg.setVisible(false)
      REMain()
    end
  end
end

--byæ­ªæ­ª äºŒæ”¹æ–‡è‰ºðŸ˜‚